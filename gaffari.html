<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Eisenhower Matrisi</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #f8f8f8;
}
.container {
    max-width: 900px;
    margin: 40px auto;
    padding: 10px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

/* Üst kısım stilleri */
.header {
    padding: 20px;
    border-bottom: 2px solid #eee;
    margin-bottom: 30px;
}
.header h1 {
    margin: 0;
    font-weight: bold;
    color: #333;
}
.header h2 {
    margin: 5px 0 20px;
    color: #666;
    font-weight: normal;
}
.question-box, .notes-box {
    margin-bottom: 20px;
}
textarea {
    width: 100%;
    min-height: 80px;
    resize: vertical;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 8px;
    box-sizing: border-box;
    font-size: 1em;
}
button {
    padding: 12px 20px;
    font-size: 1em;
    border: none;
    border-radius: 6px;
    background: black;
    color: white;
    cursor: pointer;
    margin-top: 10px;
    margin-right: 8px;
}
button:hover {
    background: #333;
}

.grid {
    display: grid;
    grid-template-columns: 120px 1fr 1fr;
    grid-template-rows: 60px 1fr 1fr;
    gap: 2px;
}
.axis {
    background: #efefef;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}
.left-axis {
    writing-mode: vertical-rl;
    transform: rotate(180deg);
}
.box {
    padding: 15px;
    background: white;
}
.box-title {
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 6px;
}
.bg-yap { background: #d3f3d1; }
.bg-planla { background: #cfeeff; }
.bg-devret { background: #ffe7bf; }
.bg-ele { background: #ffd4d4; }
</style>
</head>
<body>

<div class="container">

  <div class="header">
    <h1>Günlük İçsel Rehberim</h1>
    <h2>Düşün ve Önceliklendirme</h2>

    <div class="question-box">
      <p id="question">Yükleniyor...</p>
      <button onclick="newQuestion()">Başka Soru</button>
    </div>

    <div class="notes-box">
      <textarea id="note" placeholder="Düşüncelerinizi buraya yazın..."></textarea><br>
      <button onclick="downloadNotesCSV()">Notları Excel Olarak İndir</button>
    </div>
  </div>

  <!-- Eisenhower matrisi grid -->
  <div class="grid">

    <div></div>
    <div class="axis">ACİL</div>
    <div class="axis">ACİL DEĞİL</div>

    <div class="axis left-axis">ÖNEMLİ</div>

    <div class="box bg-yap">
        <div class="box-title">YAP</div>
        <textarea id="yap"></textarea>
    </div>

    <div class="box bg-planla">
        <div class="box-title">PLANLA</div>
        <textarea id="planla"></textarea>
    </div>

    <div class="axis left-axis">ÖNEMLİ DEĞİL</div>

    <div class="box bg-devret">
        <div class="box-title">DEVRET</div>
        <textarea id="devret"></textarea>
    </div>

    <div class="box bg-ele">
        <div class="box-title">ELE</div>
        <textarea id="ele"></textarea>
    </div>
  </div>

  <button onclick="downloadMatrixCSV()">Matrisi CSV Olarak İndir</button>
  <button onclick="downloadCombinedCSV()">Notlar ve Matris Birleşik İndir</button>
</div>

<script>
// Felsefi sorular dizisi
const questions = [
  "Bugün hangisi seni gerçekten ileri taşır?",
  "Hangi sorumluluktan kaçıyorsun ve neden?",
  "Hayatında gerçekten önemli olan nedir?",
  "Bugün kendin için küçük bir adım atabilir misin?",
  "Hangi kararın seni uzun vadede mutlu edeceğini düşünüyorsun?"
];

// Yeni soru seç
function newQuestion() {
  const q = questions[Math.floor(Math.random() * questions.length)];
  document.getElementById('question').innerText = q;
}

// Not kaydetme
function saveNote() {
  const text = document.getElementById('note').value.trim();
  if (!text) {
    alert("Not boş olamaz!");
    return;
  }
  const date = new Date().toLocaleString();
  const savedNotes = JSON.parse(localStorage.getItem('notes') || '[]');
  savedNotes.push({date, question: document.getElementById('question').innerText, answer: text});
  localStorage.setItem('notes', JSON.stringify(savedNotes));
  alert('Not kaydedildi!');
  document.getElementById('note').value = '';
}

// Notları CSV indir
function downloadNotesCSV() {
  const note = document.getElementById('note').value.trim();
  const question = document.getElementById('question').innerText;
  const date = new Date().toLocaleDateString();

  let csvContent = `Tarih;Soru;Cevap\n${date};${question};${note}\n`;

  const blob = new Blob([csvContent], { type: "text/csv;charset=utf-8;" });
  const url = URL.createObjectURL(blob);
  const link = document.createElement("a");
  link.href = url;
  link.download = "Notlar.csv";
  link.click();
}



// Eisenhower matrisi CSV indir
function downloadMatrixCSV() {
  const yap = document.getElementById("yap").value.replace(/\n/g, "; ");
  const planla = document.getElementById("planla").value.replace(/\n/g, "; ");
  const devret = document.getElementById("devret").value.replace(/\n/g, "; ");
  const ele = document.getElementById("ele").value.replace(/\n/g, "; ");
  const date = new Date().toLocaleDateString();

  // İlk satırda sadece tarih
  let csv = `Tarih:${date};acil;acil değil\n`;
  csv += `önemli;${yap};${planla}\n`;
  csv += `önemli değil;${devret};${ele}\n`;

  const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
  const url = URL.createObjectURL(blob);

  const link = document.createElement("a");
  link.href = url;
  link.download = "Eisenhower_Matrisi.csv";
  link.click();
}



// Notlar ve matrisi birleştirip tek CSV indir (notlar localStorage'dan)
function downloadCombinedCSV() {
  const note = document.getElementById('note').value.trim();
  const question = document.getElementById('question').innerText;
  const date = new Date().toLocaleDateString();

  const yap = document.getElementById("yap").value.replace(/\n/g, "; ");
  const planla = document.getElementById("planla").value.replace(/\n/g, "; ");
  const devret = document.getElementById("devret").value.replace(/\n/g, "; ");
  const ele = document.getElementById("ele").value.replace(/\n/g, "; ");

  let csv = "Tarih;Soru;Cevap;;önemli&acil;önemli&acil değil;önemli değil&acil;önemli değil&acil değil\n";
  csv += `${date};${question};${note};;${yap};${planla};${devret};${ele}\n`;

  const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
  const url = URL.createObjectURL(blob);

  const link = document.createElement("a");
  link.href = url;
  link.download = "Not_ve_Matris.csv";
  link.click();
}




// Sayfa açılır açılmaz soru göster
window.onload = function() {
  newQuestion();
};

</script>

</body>
</html>
